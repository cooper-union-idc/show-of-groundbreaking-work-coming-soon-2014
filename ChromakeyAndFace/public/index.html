<!--
> Muaz Khan     - https://github.com/muaz-khan 
> MIT License   - https://www.webrtc-experiment.com/licence/
> Documentation - https://github.com/muaz-khan/WebRTC-Experiment/tree/master/Pluginfree-Screen-Sharing
-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>WebRTC Screen Sharing</title> 
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        
        <!--             -->
        <!-- STYLESHEETS -->
        <!--             -->

            <!-- SCREEN SHARING -->
            <link rel="stylesheet" href="//cdn.webrtc-experiment.com/style.css">
            <link rel="stylesheet" href="css/webRTC.css">

            <!-- FACE DETECT -->
            <link rel="stylesheet" type="text/css" href="css/firepano.css">
            <link rel="stylesheet" type="text/css" href="css/faceDetect.css">

            <!-- GREEN SCREEN -->
            <link rel="stylesheet" href="css/green.css">

            <!-- JQUERY -->
            <link rel="stylesheet" href="css/jquery-ui.css" />
            <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/opdamjfadobkhglnjgiehhackhmgfgei">     
    </head>

    <body>

        <!--               -->
        <!-- MAIN CONTROLS -->
        <!--               -->

        <span class="open" id="hide-checkbox">
            <input class="display-main-controls" type="checkbox" name="hide" value="true" checked="true"><span>Controls</span>
        </span>

        <section id="main-controls">
            <article id="main-control-header">
                <article class="main-control-groups">
                    <input class="display-setup-controls" type="checkbox" name="hide" value="true" checked="true"><h3>Setup</h3>
                    <br>
                    <div class="setup-controls-wrapper">
                        <p>Download the 2 Chrome Extensions below and enter this page through <a href="https://chromakey.herokuapp.com">https://chromakey.herokuapp.com</a></p>
                        <br>
                        <a target="_blank" class="extension-link" href="https://chrome.google.com/webstore/detail/opdamjfadobkhglnjgiehhackhmgfgei">Install Custom IDC Extension</a><br>
                        <a target="_blank" class="extension-link" href="https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk">Install Screen Share Extension</a>
                    </div>
                </article>

                <article class="main-control-groups">
                    <input class="display-screen-sharing-controls" type="checkbox" name="hide" value="true" checked="true"><h3>Screen Sharing</h3>
                    <br>
                    <div class="screen-sharing-controls-wrapper">
                        <span>
                            Private ?? <a href="/Pluginfree-Screen-Sharing/" target="_blank" title="Open this link for private screen sharing!"><code><strong id="unique-token">#123456789</strong></code></a>
                        </span>
                        <br>
                        <input type="text" id="room-name" placeholder="Your Name" disabled>
                        <button id="share-screen" class="setup" disabled><span>Share Screen</span></button>
                    </div>
                    
                    <!-- list of all available broadcasting rooms -->
                    <table style="width: 100%;" id="rooms-list"></table>
                </article>

                <article class="main-control-groups">
                    <input class="display-green-screen-controls" type="checkbox" name="hide" value="true" checked="true"><h3>Chroma Key</h3>
                    
                    <div class="green-screen-controls-wrapper">
                        <ul>
                            <li><input class="display-green-screen-video" type="checkbox" name="chromaKey" value="true" checked="true"><span>Video Capture</span></li>
                            <br>
                            <li><input class="display-green-screen-sliders" type="checkbox" name="chromaKey" value="true" checked="true"><span>Display Chroma Key Controls</span></li>
                        </ul>

                        <!--              -->
                        <!-- GREEN SCREEN -->
                        <!--              -->

                        <div class="green-screen-sliders-wrapper" id="controls">
                            <div class="control-info-wrapper">
                                <p class="control-info">
                                    <label for="amount"></label>
                                    <input class="input-amount" type="text" id="amount" readonly style="border:0; font-weight:bold;">
                                    <!--<input type="text" id="amountb" readonly style="border:0; font-weight:bold;">-->
                                </p>

                                <div id="slider-range" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">
                                    <div class="ui-slider-range ui-widget-header ui-corner-all" style="left: 33.4%; width: 26.6%;"></div>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 33.4%;"></span>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 60%;"></span>
                                </div>
                            </div>

                            <div class="control-info-wrapper">
                                <p class="control-info">
                                    <label for="amount2"></label>
                                    <input class="input-amount" type="text" id="amount2" readonly style="border:0; font-weight:bold;">
                                </p>

                                <div id="slider-range2" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">
                                    <div class="ui-slider-range ui-widget-header ui-corner-all" style="left: 33.4%; width: 26.6%;"></div>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 33.4%;"></span>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 60%;"></span>
                                </div>
                            </div>

                             
                            <div class="control-info-wrapper">
                                <p class="control-info">
                                    <label for="amount3"></label>
                                    <input class="input-amount" type="text" id="amount3" readonly style="border:0; font-weight:bold;">
                                </p>

                                <div id="slider-range3" class="ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all">
                                    <div class="ui-slider-range ui-widget-header ui-corner-all" style="left: 33.4%; width: 26.6%;"></div>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 33.4%;"></span>
                                    <span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="left: 60%;"></span>
                                </div>
                            </div></div>
                    </div>
                </article>

                <article class="main-control-groups">
                    <input class="display-face-detect-controls" type="checkbox" name="hide" value="true" checked="true"><h3>Face Detect</h3>
                    <div class="face-detect-controls-wrapper">
                        <input class="display-face-detect-video" type="checkbox" name="chromaKey" value="true"><span>Video Capture</span>
                    </div>
                </article>
            </article>
        </section> 

        <!--                      -->
        <!-- SCREEN SHARING VIDEO -->
        <!--                      -->

        <article class="screen-sharing-wrapper">   
            <!-- just copy this <section> and next script -->
            <section class="experiment">                
                
                <!-- local/remote videos container -->
                <div id="videos-container"></div>
            </section>
        </article>


        <!--                    -->
        <!-- GREEN SCREEN VIDEO -->
        <!--                    -->

            <video id="video" class="green-video" width="640" height="480" controls="true" autoplay></video>
            <canvas id="hCanvas"></canvas>
            <canvas id="dCanvas"></canvas>


        <!--             -->
        <!-- FACE DETECT -->
        <!--             -->
        
            <!-- <div id="content">
                <div id="container">
                    <video id="videoel" width="400px" height="300px" preload="auto" loop>
                        
                    </video>
                    <canvas id="overlay" width="400px" height="300px"></canvas>
                    <img id="recorded" src="assets/bg.jpg" width="400px" height="300px">
                </div>
                <br/>
                <input class="btn" type="button" value="wait, loading video" disabled="disabled" onclick="startVideo()" id="startbutton"></input>
                <div id="text">
                    <span id='percentage'> Score: 0% </span>
                    <div id="gum" class="gum">
                        <p>Try it out.
                        </p>
                    </div>
                    <div id="nogum" class="nogum">
                        <p>
                            There was some problem trying to capture your webcamera, please check that your browser supports WebRTC. Using a fallback video instead. To try it out:
                            <ol>
                                <li>click start</li>
                                <li>see the model fitted to the face</li>
                            </ol>
                        </p>
                    </div>
                </div>
            </div>
            <input class="hidden" type="file" accept="image/*" capture="camera" id="file-upload">
            <br/>
            <img class="pano" id="pano" />
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <mask id="c1" maskUnits="objectBoundingBox" maskContentUnits="objectBoundingBox">
                    <circle id="leftmask" cx="0.5" cy="0.5" r="0.5" fill="black"/>
                </mask>
              </defs>
            </svg> -->

        <!--            -->
        <!-- JAVASCRIPT -->
        <!--            -->

            <!-- JQUERY LIBS -->
                <script src="js/libs/jquery-2.1.1.min.js" type="text/javascript"></script>
                <script src="js/libs/jquery-ui.min.js"></script>

            <!-- SCREEN SHARING -->
                <script src='//cdn.webrtc-experiment.com/firebase.js'> </script>
                <script src="//cdn.webrtc-experiment.com/Pluginfree-Screen-Sharing/conference.js"> </script>
                <script type="text/javascript" src="js/screenSharing/pluginFreeScreenSharing.js"></script>
                <script type="text/javascript" src="js/screenSharing/loadScreenFrame.js"></script>
                <script type="text/javascript" src="js/screenSharing/detectRTC.js"></script>

            <!-- FACE DETECT -->
                <!--<script src="js/face/utils.js"></script>
                <script src="js/face/numeric-1.2.6.min.js"></script>
                <script src="js/face/mosse.js"></script>
                <script src="js/face/jsfeat-min.js"></script>
                <script src="js/face/frontalface.js"></script>
                <script src="js/face/jsfeat_detect.js"></script>
                <script src="js/face/left_eye_filter.js"></script>
                <script src="js/face/right_eye_filter.js"></script>
                <script src="js/face/nose_filter.js"></script>
                <script src="js/face/models/model_pca_20_svm.js"></script>
                <script src="js/face/clm.js"></script>
                <script src="js/face/svmfilter_webgl.js"></script>
                <script src="js/face/svmfilter_fft.js"></script>
                <script src="js/face/mossefilter.js"></script>
                <script src="js/face/Stats.js"></script>
                <script src="js/face/clm_facetrack_2.js"></script>-->
                
                <!--for firebase firepano -->
                <!--<script src="js/face/jquery.min.js"></script>
                <script src="js/face/firebase.js"></script>
                <script src="js/face/sha256.js"></script>-->

            <!-- GREEN SCREEN -->
                <script src="js/green/green.js"></script>
                <script src="js/green/sliders.js"></script>

            <!-- MAINJS -->
                <script type="text/javascript" src="js/main.js"></script>
                <script type="text/javascript">
                    window.Main.init();
                </script>
    </body>
</html>
